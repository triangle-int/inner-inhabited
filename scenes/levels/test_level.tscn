[gd_scene load_steps=14 format=3 uid="uid://bou72wqxg1rjn"]

[ext_resource type="Script" path="res://scripts/core/level.gd" id="1_bimvr"]
[ext_resource type="Script" path="res://scripts/core/signal/signal_info.gd" id="2_6c7n2"]
[ext_resource type="PackedScene" uid="uid://7pmpnt64e464" path="res://scenes/core/root.tscn" id="3_hdv3g"]
[ext_resource type="PackedScene" uid="uid://b3i6otukvqj0c" path="res://scenes/core/receiver.tscn" id="4_ksrk6"]
[ext_resource type="Script" path="res://scripts/core/validator/count_param.gd" id="5_dtdu5"]
[ext_resource type="PackedScene" uid="uid://50raqfm2a7qy" path="res://scenes/core/ui/level_ui.tscn" id="5_mwf1r"]
[ext_resource type="Script" path="res://scripts/core/validator/count_validator.gd" id="6_e0uo0"]
[ext_resource type="PackedScene" uid="uid://dkoakrtki43s5" path="res://scenes/core/ui/intersection_button.tscn" id="6_tca8u"]

[sub_resource type="Resource" id="Resource_p071k"]
script = ExtResource("2_6c7n2")
number = 0

[sub_resource type="Resource" id="Resource_r7g8l"]
script = ExtResource("2_6c7n2")
number = 0

[sub_resource type="Resource" id="Resource_xhi4g"]
script = ExtResource("2_6c7n2")
number = 0

[sub_resource type="Resource" id="Resource_nw370"]
script = ExtResource("5_dtdu5")
number = 0
expected_count = 1

[sub_resource type="Resource" id="Resource_bgqqs"]
script = ExtResource("6_e0uo0")
counts = Array[ExtResource("5_dtdu5")]([SubResource("Resource_nw370")])

[node name="TestLevel" type="Node2D" node_paths=PackedStringArray("receivers", "root")]
script = ExtResource("1_bimvr")
sequence = Array[ExtResource("2_6c7n2")]([SubResource("Resource_p071k"), SubResource("Resource_r7g8l"), SubResource("Resource_xhi4g")])
receivers = [NodePath("BaseSignalNode2"), NodePath("BaseSignalNode3"), NodePath("BaseSignalNode4")]
root = NodePath("BaseSignalNode")

[node name="BaseSignalNode" parent="." instance=ExtResource("3_hdv3g")]
position = Vector2(475, 94)

[node name="BaseSignalNode2" parent="." instance=ExtResource("4_ksrk6")]
position = Vector2(229, 479)
normal_validator = SubResource("Resource_bgqqs")

[node name="BaseSignalNode3" parent="." instance=ExtResource("4_ksrk6")]
position = Vector2(492, 481)
normal_validator = SubResource("Resource_bgqqs")

[node name="BaseSignalNode4" parent="." instance=ExtResource("4_ksrk6")]
position = Vector2(759, 479)
normal_validator = SubResource("Resource_bgqqs")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="LevelUI" parent="CanvasLayer" instance=ExtResource("5_mwf1r")]
allowed_nodes = Array[PackedScene]([ExtResource("6_tca8u"), ExtResource("6_tca8u")])
